<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
<link rel="shortcut icon" href="/favicon.ico">
<title>Free AI 文本转音频</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
:root {
--primary-color: #4F46E5;
--primary-light: #6366F1;
--primary-dark: #4338CA;
--secondary-color: #8B5CF6;
--light-bg: #F8FAFC;
--border-color: #E2E8F0;
--text-color: #1E293B;
--text-light: #64748B;
--success-color: #10B981;
--error-color: #EF4444;
--border-radius: 10px;
--box-shadow: 0 4px 10px rgba(0, 0, 0, 0.04), 0 0 1px rgba(0, 0, 0, 0.1);
--transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
--gradient-primary: linear-gradient(135deg, #4F46E5, #7C3AED);
--gradient-secondary: linear-gradient(135deg, #8B5CF6, #C084FC);
--card-bg: #ffffff;
--voice-alloy: #4F46E5;
--voice-echo: #6366F1;
--voice-fable: #8B5CF6;
--voice-onyx: #333333;
--voice-nova: #10B981;
--voice-shimmer: #60A5FA;
--voice-coral: #F87171;
--voice-verse: #FBBF24;
--voice-ballad: #A78BFA;
--voice-ash: #4B5563;
--voice-sage: #059669;
--voice-amuch: #F59E0B;
--voice-aster: #2563EB;
--voice-brook: #3B82F6;
--voice-clover: #EC4899;
--voice-dan: #1F2937;
--voice-elan: #7C3AED;
--voice-marilyn: #DB2777;
--voice-meadow: #34D399;
}
* {
box-sizing: border-box;
margin: 0;
padding: 0;
font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
}
body {
background-color: var(--light-bg);
color: var(--text-color);
line-height: 1.5;
padding: 0;
margin: 0;
background-image:
radial-gradient(circle at 80% 10%, rgba(124, 58, 237, 0.03) 0%, transparent 600px),
radial-gradient(circle at 20% 90%, rgba(79, 70, 229, 0.03) 0%, transparent 600px);
}
.container {
max-width: 1400px;
margin: 0 auto;
padding: 1.5rem 1rem; /* 减小顶部和底部内边距 */
}
header {
padding: 1.5rem 0 2rem; /* 减小页眉的内边距 */
text-align: center;
position: relative;
}
h1 {
font-size: 2.6rem;
font-weight: 800;
margin-bottom: 0.75rem; /* 减小标题下方间距 */
background: var(--gradient-primary);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
display: inline-block;
letter-spacing: -0.02em;
}
.description {
font-size: 1.1rem;
color: var(--text-light);
max-width: 700px;
margin: 0 auto;
line-height: 1.6;
}
.content {
display: flex;
gap: 1.5rem; /* 减小两列间距 */
margin-top: 1.5rem; /* 减小顶部间距 */
position: relative;
}
.text-input-section, .audio-output-section {
flex: 1;
width: 50%;
}
.card {
background-color: var(--card-bg);
border-radius: var(--border-radius);
box-shadow: var(--box-shadow);
padding: 1.25rem; /* 减小卡片内边距 */
margin-bottom: 1.25rem; /* 减小卡片间距 */
transition: var(--transition);
position: relative;
overflow: hidden;
border: 1px solid rgba(226, 232, 240, 0.6);
backdrop-filter: blur(10px);
height: auto; /* 移除固定高度 */
}
.card:hover {
box-shadow: 0 8px 16px rgba(0, 0, 0, 0.06), 0 0 2px rgba(0, 0, 0, 0.1);
transform: translateY(-2px);
}
.section-title {
font-size: 1.25rem;
font-weight: 600;
margin-bottom: 1rem; /* 减小标题下方间距 */
color: var(--text-color);
display: flex;
align-items: center;
}
.section-title i {
margin-right: 0.75rem;
background: var(--gradient-primary);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
font-size: 1.1rem;
}
textarea {
width: 100%;
height: 180px; /* 减小文本框的高度 */
padding: 1rem;
border: 1px solid var(--border-color);
border-radius: var(--border-radius);
resize: vertical;
font-size: 1rem;
margin-bottom: 0.5rem;
transition: var(--transition);
background-color: rgba(255, 255, 255, 0.8);
box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.03);
line-height: 1.6;
}
textarea:focus {
outline: none;
border-color: var(--primary-light);
box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
background-color: white;
}
.text-stats {
display: flex;
align-items: center;
margin-bottom: 1rem; /* 减小下方间距 */
font-size: 0.9rem;
color: var(--text-light);
}
.text-stat {
margin-right: 1.5rem;
display: flex;
align-items: center;
}
.text-stat i {
margin-right: 0.4rem;
color: var(--primary-light);
}
.btn {
display: inline-flex;
align-items: center;
justify-content: center;
background: var(--gradient-primary);
color: white;
border: none;
padding: 0.75rem 1.25rem;
height: 2.75rem; /* 减小按钮高度 */
cursor: pointer;
border-radius: var(--border-radius);
font-size: 1rem;
font-weight: 500;
transition: var(--transition);
box-shadow: 0 2px 6px rgba(79, 70, 229, 0.3);
position: relative;
overflow: hidden;
}
.btn::after {
content: '';
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: linear-gradient(rgba(255,255,255,0.1), rgba(255,255,255,0));
opacity: 0;
transition: opacity 0.3s;
}
.btn:hover::after {
opacity: 1;
}
.btn:active {
transform: translateY(1px);
box-shadow: 0 1px 3px rgba(79, 70, 229, 0.2);
}
.btn-success {
background: linear-gradient(135deg, #10B981, #059669);
box-shadow: 0 2px 6px rgba(16, 185, 129, 0.3);
}
.btn-text {
background: none;
color: var(--primary-color);
padding: 0;
height: auto;
font-weight: 500;
box-shadow: none;
}
.btn-text:hover {
background: none;
color: var(--primary-dark);
text-decoration: underline;
box-shadow: none;
}
.btn-text::after {
display: none;
}
.btn i {
margin-right: 0.5rem;
}
.btn-danger {
background: linear-gradient(135deg, #EF4444, #DC2626);
box-shadow: 0 2px 6px rgba(239, 68, 68, 0.3);
}
.btn-sm {
padding: 0.4rem 0.8rem;
height: 2.2rem;
font-size: 0.9rem;
}
.select-wrapper {
position: relative;
margin-bottom: 1.25rem;
}
.select-icon {
position: absolute;
right: 1rem;
top: 50%;
transform: translateY(-50%);
color: var(--text-light);
pointer-events: none;
}
select {
width: 100%;
padding: 0.8rem 1rem;
border: 1px solid var(--border-color);
border-radius: var(--border-radius);
font-size: 1rem;
background-color: rgba(255, 255, 255, 0.8);
appearance: none;
transition: var(--transition);
box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.03);
cursor: pointer;
}
select:focus {
outline: none;
border-color: var(--primary-light);
box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
background-color: white;
}
.voice-selection {
margin-bottom: 1.25rem; /* 减小下方间距 */
}
.voice-selection label {
display: block;
margin-bottom: 0.5rem; /* 减小下方间距 */
font-size: 0.95rem;
color: var(--text-light);
font-weight: 500;
}
.audio-preview {
margin-bottom: 1.25rem; /* 减小下方间距 */
}
.custom-audio-player {
width: 100%;
margin-top: 0.75rem; /* 减小上方间距 */
border-radius: var(--border-radius);
background: #F1F5F9;
padding: 0.75rem; /* 减小内边距 */
box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.05);
}
audio {
width: 100%;
height: 60px; /* 减小音频播放器高度 */
border-radius: 25px;
}
audio::-webkit-media-controls-panel {
background: linear-gradient(135deg, #F1F5F9, #F8FAFC);
}
audio::-webkit-media-controls-play-button {
background-color: var(--primary-light);
border-radius: 50%;
}
.status {
margin-top: 1rem; /* 减小上方间距 */
padding: 0.75rem; /* 减小内边距 */
border-radius: var(--border-radius);
font-size: 0.95rem;
display: none;
animation: fadeInUp 0.4s ease;
font-weight: 500;
}
@keyframes fadeInUp {
from { opacity: 0; transform: translateY(10px); }
to { opacity: 1; transform: translateY(0); }
}
.status.success {
background-color: rgba(16, 185, 129, 0.1);
color: #065F46;
display: block;
border-left: 3px solid var(--success-color);
}
.status.error {
background-color: rgba(239, 68, 68, 0.1);
color: #B91C1C;
display: block;
border-left: 3px solid var(--error-color);
}
.loading {
display: none;
align-items: center;
margin: 1rem 0; /* 减小上下间距 */
font-size: 0.95rem;
color: var(--text-light);
}
.loading .spinner {
display: inline-block;
width: 1.25rem;
height: 1.25rem;
border: 2px solid rgba(79, 70, 229, 0.2);
border-radius: 50%;
border-top-color: var(--primary-color);
animation: spin 1s linear infinite;
margin-right: 0.6rem;
}
@keyframes spin {
to { transform: rotate(360deg); }
}
.history-section {
margin-top: 1.25rem; /* 减小上方间距 */
}
.history-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 0.75rem; /* 减小下方间距 */
}
.history-warning {
background-color: rgba(250, 204, 21, 0.1);
border-left: 3px solid #FACC15;
padding: 0.6rem 0.75rem; /* 减小内边距 */
margin-bottom: 1rem; /* 减小下方间距 */
border-radius: var(--border-radius);
font-size: 0.9rem;
color: #854D0E;
display: flex;
align-items: center;
}
.history-warning i {
margin-right: 0.5rem;
color: #EAB308;
}
.history-container {
max-height: 350px; /* 减小历史记录的最大高度 */
overflow-y: auto;
scrollbar-width: thin;
scrollbar-color: var(--primary-light) #F1F5F9;
}
.history-container::-webkit-scrollbar {
width: 6px;
}
.history-container::-webkit-scrollbar-track {
background: #F1F5F9;
border-radius: 10px;
}
.history-container::-webkit-scrollbar-thumb {
background-color: var(--primary-light);
border-radius: 10px;
}
.history-item {
display: flex;
align-items: center;
justify-content: space-between;
padding: 0.75rem 0.5rem; /* 减小内边距 */
border-bottom: 1px solid var(--border-color);
transition: var(--transition);
border-radius: 0.5rem;
}
.history-item:hover {
background-color: rgba(99, 102, 241, 0.04);
}
.history-item:last-child {
border-bottom: none;
}
.history-info {
flex: 1;
min-width: 0;
padding-right: 1rem;
}
.history-timestamp {
font-size: 0.8rem;
color: var(--text-light);
margin-bottom: 0.3rem; /* 减小下方间距 */
}
.history-voice {
font-size: 0.95rem;
font-weight: 600;
display: flex;
align-items: center;
color: var(--primary-dark);
margin-bottom: 0.2rem; /* 减小下方间距 */
}
.history-voice::before {
content: '';
display: inline-block;
width: 0.5rem;
height: 0.5rem;
background: var(--gradient-primary);
border-radius: 50%;
margin-right: 0.5rem;
}
.history-text {
font-size: 0.9rem;
color: var(--text-light);
white-space: nowrap;
overflow: hidden;
text-overflow: ellipsis;
max-width: 100%;
}
.no-history {
color: var(--text-light);
font-size: 0.95rem;
text-align: center;
padding: 1.5rem 0; /* 减小内边距 */
}
footer {
text-align: center;
padding: 2rem 0 1.5rem; /* 减小页脚内边距 */
color: var(--text-light);
font-size: 0.9rem;
opacity: 0.8;
}
footer i {
color: var(--primary-light);
}
/* Feature card */
.features-card {
margin-top: 1.5rem; /* 减小上方间距 */
background: linear-gradient(180deg, #FFFFFF, #F8FAFC);
border-radius: var(--border-radius);
padding: 1.25rem; /* 减小内边距 */
box-shadow: var(--box-shadow);
border: 1px solid var(--border-color);
}
.features-title {
font-size: 1.1rem;
font-weight: 600;
margin-bottom: 0.75rem; /* 减小下方间距 */
color: var(--text-color);
text-align: center;
}
.features-list {
list-style-type: none;
padding: 0;
margin: 0;
}
.feature-item {
display: flex;
align-items: flex-start;
margin-bottom: 0.6rem; /* 减小下方间距 */
padding-bottom: 0.6rem; /* 减小内部下方间距 */
border-bottom: 1px solid var(--border-color);
}
.feature-item:last-child {
margin-bottom: 0;
padding-bottom: 0;
border-bottom: none;
}
.feature-icon {
flex-shrink: 0;
width: 24px;
height: 24px;
background: var(--gradient-primary);
border-radius: 50%;
display: flex;
align-items: center;
justify-content: center;
margin-right: 0.8rem;
margin-top: 0.2rem;
}
.feature-icon i {
font-size: 0.8rem;
color: white;
}
.feature-text {
font-size: 0.95rem;
color: var(--text-color);
line-height: 1.5;
}
/* Animations */
@keyframes pulse {
0% { box-shadow: 0 0 0 0 rgba(99, 102, 241, 0.4); }
70% { box-shadow: 0 0 0 10px rgba(99, 102, 241, 0); }
100% { box-shadow: 0 0 0 0 rgba(99, 102, 241, 0); }
}
@keyframes highlight {
0% { background-color: rgba(99, 102, 241, 0.1); }
100% { background-color: transparent; }
}
.history-item.new {
animation: highlight 2s ease;
}
/* Enhanced indicators */
.badge {
display: inline-flex;
align-items: center;
padding: 0.25rem 0.6rem;
border-radius: 20px;
font-size: 0.8rem;
font-weight: 600;
margin-left: 0.5rem;
background: var(--gradient-secondary);
color: white;
opacity: 0.9;
}
/* 优化语音风格选择按钮 */
.voice-style-selector {
display: grid;
grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); /* 减小最小宽度 */
gap: 0.4rem; /* 减小间距 */
margin-bottom: 1.25rem; /* 减小下方间距 */
}
.voice-style-option {
min-width: 0;
}
.voice-style-option input[type="radio"] {
display: none;
}
.voice-style-option label {
display: flex;
flex-direction: column;
align-items: center;
padding: 0.5rem 0.3rem; /* 减小内边距 */
border: 2px solid var(--border-color);
border-radius: var(--border-radius);
cursor: pointer;
transition: all 0.2s ease;
background: white;
text-align: center;
font-size: 0.85rem;
height: 100%;
}
.voice-style-option input[type="radio"]:checked + label {
border-color: var(--primary-color);
background: rgba(99, 102, 241, 0.05);
box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.2);
}
.voice-style-icon {
font-size: 1rem;
margin-bottom: 0.2rem; /* 减小下方间距 */
}
.voice-style-name {
font-weight: 600;
font-size: 0.8rem;
margin-bottom: 0.2rem;
line-height: 1.2;
}
.voice-style-desc {
font-size: 0.7rem;
color: var(--text-light);
line-height: 1.1;
}
/* 优化预览窗格 */
.preview-container {
background: linear-gradient(135deg, #f9fafb, #f3f4f6);
border-radius: 15px;
padding: 1.5rem; /* 减小内边距 */
box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
margin-bottom: 1.25rem; /* 减小下方间距 */
position: relative;
overflow: hidden;
min-height: 250px; /* 减小最小高度 */
display: flex;
flex-direction: column;
}
.preview-header {
display: flex;
align-items: center;
margin-bottom: 1.25rem; /* 减小下方间距 */
}
.preview-title {
font-size: 1.2rem;
font-weight: 600;
margin: 0;
display: flex;
align-items: center;
}
.preview-title i {
margin-right: 0.75rem;
font-size: 1.4rem;
background: var(--gradient-primary);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
}
.preview-icon {
position: absolute;
right: -15px;
top: -15px;
width: 80px; /* 减小大小 */
height: 80px; /* 减小大小 */
opacity: 0.05;
transform: rotate(15deg);
color: var(--primary-color);
}
.preview-placeholder {
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
flex: 1;
color: var(--text-light);
border: 2px dashed #e5e7eb;
border-radius: 10px;
font-size: 0.95rem;
}
.preview-placeholder i {
margin-bottom: 0.75rem; /* 减小下方间距 */
font-size: 2.2rem; /* 减小图标大小 */
opacity: 0.5;
}
/* 优化快捷键提示样式 */
.shortcut-hint {
display: inline-flex;
align-items: center;
margin-left: 0.75rem; /* 减小左边距 */
font-size: 0.8rem;
color: var(--text-light);
vertical-align: middle;
}
.shortcut-hint kbd {
background: #F1F5F9;
padding: 0.1rem 0.3rem;
border-radius: 3px;
border: 1px solid #E2E8F0;
margin: 0 0.2rem;
font-family: monospace;
}
/* 优化使用提示区域 */
.usage-tips {
background: linear-gradient(to right, #faf5ff, #f5f3ff);
border-radius: var(--border-radius);
padding: 1rem; /* 减小内边距 */
margin-top: 1.25rem; /* 减小上方间距 */
}
.tips-title {
font-size: 1rem;
font-weight: 600;
margin-bottom: 0.6rem; /* 减小下方间距 */
display: flex;
align-items: center;
}
.tips-title i {
margin-right: 0.5rem;
color: var(--secondary-color);
}
.tips-list {
list-style: none;
padding: 0;
margin: 0;
}
.tips-list li {
display: flex;
align-items: baseline;
margin-bottom: 0.4rem; /* 减小下方间距 */
font-size: 0.9rem;
}
.tips-list li:before {
content: "•";
color: var(--secondary-color);
font-weight: bold;
margin-right: 0.5rem;
}
.current-voice-info {
display: flex;
align-items: center;
margin-bottom: 0.75rem; /* 减小下方间距 */
background: rgba(255, 255, 255, 0.7);
padding: 0.6rem 0.75rem; /* 减小内边距 */
border-radius: 8px;
}
.current-voice-icon {
width: 36px; /* 减小图标大小 */
height: 36px; /* 减小图标大小 */
border-radius: 50%;
display: flex;
align-items: center;
justify-content: center;
margin-right: 0.6rem; /* 减小右边距 */
color: white;
}
.current-voice-details {
flex: 1;
}
.current-voice-name {
font-weight: 600;
font-size: 1rem;
margin-bottom: 0.1rem; /* 减小下方间距 */
}
.current-voice-desc {
font-size: 0.8rem;
color: var(--text-light);
}
.divider {
height: 1px;
background: var(--border-color);
margin: 1.25rem 0; /* 减小上下间距 */
}
.input-section-title {
font-size: 1.1rem;
font-weight: 600;
margin-bottom: 0.75rem; /* 减小下方间距 */
display: flex;
align-items: center;
}
.input-section-title i {
margin-right: 0.5rem;
color: var(--primary-color);
}
/* 响应式设计 */
@media (max-width: 1024px) {
.content {
flex-direction: column;
}
.text-input-section, .audio-output-section {
width: 100%;
}
}
@media (max-width: 768px) {
.container {
padding: 1rem 0.8rem;
}
h1 {
font-size: 2rem;
}
.description {
font-size: 1rem;
padding: 0 1rem;
}
.card {
padding: 1rem; /* 进一步减小移动端的内边距 */
}
.section-title {
font-size: 1.1rem;
margin-bottom: 0.75rem;
}
textarea {
height: 160px; /* 进一步减小移动端的文本框高度 */
}
}
</style></head>
<body>
<div class="blob blob-1"></div>
<div class="blob blob-2"></div>
<div class="container">
<header>

<style>
h1 {
    font-family: 'Orbitron', sans-serif;
    font-size: 2.8em;
    text-align: center;
    margin: 30px 0;
    color: transparent;
    background: linear-gradient(45deg, #00f3ff 30%, #a855f7 70%);
    -webkit-background-clip: text;
    background-clip: text;
    text-shadow: 0 0 15px rgba(0, 243, 255, 0.4);
    position: relative;
    padding: 20px;
    letter-spacing: 2px;
}

h1::before,
h1::after {
    content: '';
    position: absolute;
    width: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, #3d3dff);
    animation: borderExpand 1.5s ease-out forwards;
}

h1::before {
    top: 0;
    left: 0;
}

h1::after {
    bottom: 0;
    right: 0;
    animation-delay: 0.5s;
}

@keyframes borderExpand {
    to {
        width: 100%;
    }
}
</style>


<h1>Free AI 文本转音频</h1>
<p class="description">输入文本，选择语音风格，一键将文字转换为自然流畅的语音。<br>支持多种声音特征，帮您创建专业水准的音频内容。</p>

<br>

<style>
.sci-fi-btn {
    position: relative;
    padding: 4px 8px;
    font-family: 'Arial', sans-serif;
    font-size: 1em;
    letter-spacing: 2px;
    text-transform: uppercase;
    color: #00f3ff;
    background: #0a0a2e;
    border: 2px solid #3d3dff;
    border-radius: 8px;
    cursor: pointer;
    overflow: hidden;
    transition: 0.5s;
    text-shadow: 0 0 10px #00f3ff;
    box-shadow: 0 0 20px rgba(61, 61, 255, 0.3);
}

.sci-fi-btn:hover {
    background: #13134e;
    box-shadow: 0 0 30px rgba(61, 61, 255, 0.6);
    transform: scale(1.05);
    color: #ffffff;
}



.sci-fi-btn:hover::before {
    left: 100%;
}



.glowing-border:nth-child(1) {
    top: -2px;
    left: -2px;
    right: -2px;
    height: 2px;
    background: linear-gradient(90deg, transparent, #3d3dff);
    animation: borderTop 2s linear infinite;
}

@keyframes borderTop {
    0% { left: -2px; }
    100% { left: 100%; }
}

/* 添加点击动画 */
.sci-fi-btn:active {
    transform: scale(0.45);
    transition: 0.1s;
}

</style>

<a href="https://freeai.aihub.ren" class="sci-fi-btn" style="text-decoration: none;">
    <!-- 添加流光边框 -->
    <span class="glowing-border"></span>
    <span class="glowing-border"></span>
    返回首页
</a>











</header>
<div class="content">
<section class="text-input-section">
<div class="card">
<h2 class="section-title"><i class="fas fa-microphone-alt"></i>语音生成</h2>
<!-- 语音风格选择 -->
<div class="input-section-title"><i class="fas fa-sliders"></i>选择语音风格</div>
<p style="margin-bottom: 0.75rem; font-size: 0.95rem; color: var(--text-light);">每种风格都有其独特的音色和表现力，选择最适合您内容的声音</p>
<div class="voice-style-selector">
<div class="voice-style-option">
<input type="radio" id="voice-alloy" name="voiceStyle" value="alloy" checked>
<label for="voice-alloy">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-alloy);"></i></span>
<span class="voice-style-name">Alloy</span>
<span class="voice-style-desc">平衡中性</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-echo" name="voiceStyle" value="echo">
<label for="voice-echo">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-echo);"></i></span>
<span class="voice-style-name">Echo</span>
<span class="voice-style-desc">深沉有力</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-fable" name="voiceStyle" value="fable">
<label for="voice-fable">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-fable);"></i></span>
<span class="voice-style-name">Fable</span>
<span class="voice-style-desc">温暖讲述</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-onyx" name="voiceStyle" value="onyx">
<label for="voice-onyx">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-onyx);"></i></span>
<span class="voice-style-name">Onyx</span>
<span class="voice-style-desc">威严庄重</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-nova" name="voiceStyle" value="nova">
<label for="voice-nova">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-nova);"></i></span>
<span class="voice-style-name">Nova</span>
<span class="voice-style-desc">友好专业</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-shimmer" name="voiceStyle" value="shimmer">
<label for="voice-shimmer">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-shimmer);"></i></span>
<span class="voice-style-name">Shimmer</span>
<span class="voice-style-desc">轻快明亮</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-coral" name="voiceStyle" value="coral">
<label for="voice-coral">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-coral);"></i></span>
<span class="voice-style-name">Coral</span>
<span class="voice-style-desc">温柔平静</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-verse" name="voiceStyle" value="verse">
<label for="voice-verse">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-verse);"></i></span>
<span class="voice-style-name">Verse</span>
<span class="voice-style-desc">生动诗意</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-ballad" name="voiceStyle" value="ballad">
<label for="voice-ballad">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-ballad);"></i></span>
<span class="voice-style-name">Ballad</span>
<span class="voice-style-desc">抒情柔和</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-ash" name="voiceStyle" value="ash">
<label for="voice-ash">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-ash);"></i></span>
<span class="voice-style-name">Ash</span>
<span class="voice-style-desc">思考沉稳</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-sage" name="voiceStyle" value="sage">
<label for="voice-sage">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-sage);"></i></span>
<span class="voice-style-name">Sage</span>
<span class="voice-style-desc">智慧老练</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-amuch" name="voiceStyle" value="amuch">
<label for="voice-amuch">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-amuch);"></i></span>
<span class="voice-style-name">Amuch</span>
<span class="voice-style-desc">饱满自然</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-aster" name="voiceStyle" value="aster">
<label for="voice-aster">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-aster);"></i></span>
<span class="voice-style-name">Aster</span>
<span class="voice-style-desc">清晰直接</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-brook" name="voiceStyle" value="brook">
<label for="voice-brook">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-brook);"></i></span>
<span class="voice-style-name">Brook</span>
<span class="voice-style-desc">流畅舒适</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-clover" name="voiceStyle" value="clover">
<label for="voice-clover">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-clover);"></i></span>
<span class="voice-style-name">Clover</span>
<span class="voice-style-desc">活泼年轻</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-dan" name="voiceStyle" value="dan">
<label for="voice-dan">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-dan);"></i></span>
<span class="voice-style-name">Dan</span>
<span class="voice-style-desc">男声稳重</span>
</label>
</div>
<div class="voice-style-option">
<input type="radio" id="voice-elan" name="voiceStyle" value="elan">
<label for="voice-elan">
<span class="voice-style-icon"><i class="fas fa-microphone" style="color: var(--voice-elan);"></i></span>
<span class="voice-style-name">Elan</span>
<span class="voice-style-desc">优雅流利</span>
</label>
</div>
</div>
<div class="divider"></div>
<!-- 文本输入 -->
<div class="input-section-title"><i class="fas fa-pen-fancy"></i>输入文本</div>
<textarea id="textInput" placeholder="使用ai回复生成对话。如需让AI照着念，可以在文本之前加上：请照着文本念"></textarea>
<div class="text-stats">
<div class="text-stat">
<i class="fas fa-text-height"></i>
<span id="charCount">字符数: 0</span>
</div>
<div class="text-stat">
<i class="fas fa-clock"></i>
<span id="durationEstimate">估计时长: 0 秒</span>
</div>
</div>
<div style="display: flex; align-items: center;">
<button id="generateBtn" class="btn">
<i class="fas fa-waveform-voice"></i>
<span id="generateBtnText">生成语音</span>
<span id="generateBtnSpinner" class="spinner" style="display: none; margin-left: 8px;"></span>
</button>
<div class="shortcut-hint">快捷键: <kbd>Ctrl</kbd> + <kbd>Enter</kbd></div>
</div>
</div>
<div class="usage-tips">
<div class="tips-title"><i class="fas fa-lightbulb"></i>使用小技巧</div>
<ul class="tips-list">
<li>输入标点符号可增加语音的自然停顿和语调变化</li>
<li>不同语音风格适合不同场景，可以尝试多种风格找到最适合的</li>
<li>大段文本可划分为多个段落，生成后再合并，效果更佳</li>
<li>特殊专业术语可能需要加注音或替换为更通用的表达</li>
</ul>
</div>
</section>
<section class="audio-output-section">
<div class="card">
<div class="preview-container">
<div class="preview-icon">
<i class="fas fa-headphones-alt fa-5x"></i>
</div>
<div class="preview-header">
<h3 class="preview-title"><i class="fas fa-play-circle"></i>音频预览</h3>
</div>
<div id="currentVoiceContainer" style="display: none;" class="current-voice-info">
<div class="current-voice-icon" id="currentVoiceIcon">
<i class="fas fa-microphone"></i>
</div>
<div class="current-voice-details">
<div class="current-voice-name" id="currentVoiceName"></div>
<div class="current-voice-desc" id="currentVoiceDesc"></div>
</div>
</div>
<div id="audioContainer" style="flex: 1; display: flex; flex-direction: column; justify-content: center;">
<div class="preview-placeholder" id="noAudioMessage">
<i class="fas fa-music"></i>
<span>尚未生成语音</span>
</div>
</div>
</div>
<div id="downloadContainer" style="display: none;">
<button id="downloadBtn" class="btn btn-success">
<i class="fas fa-download"></i>下载音频文件
</button>
</div>
<div class="loading" id="loadingIndicator">
<span class="spinner"></span> 正在生成语音...
</div>
<div id="statusMessage" class="status"></div>
</div>
<div class="card history-section">
<div class="history-header">
<h2 class="section-title"><i class="fas fa-history"></i>历史记录 <span class="badge">最近10条</span></h2>
<button id="clearHistoryBtn" class="btn btn-sm btn-danger">
<i class="fas fa-trash"></i>清空记录
</button>
</div>
<div class="history-warning">
<i class="fas fa-exclamation-triangle"></i>
生成记录链接刷新后重置，请注意下载
</div>
<div class="history-container" id="historyContainer">
<div id="historyList">
<p class="no-history">暂无历史记录</p>
</div>
</div>
</div>
<div class="features-card">
<h3 class="features-title">语音特性</h3>
<ul class="features-list">
<li class="feature-item">
<div class="feature-icon">
<i class="fas fa-volume-high"></i>
</div>
<div class="feature-text">
自然流畅的语音合成，接近真人发音
</div>
</li>
<li class="feature-item">
<div class="feature-icon">
<i class="fas fa-users"></i>
</div>
<div class="feature-text">
多种声音风格可选，满足不同场景需求
</div>
</li>
<li class="feature-item">
<div class="feature-icon">
<i class="fas fa-align-left"></i>
</div>
<div class="feature-text">
支持长文本转换，适合各种内容创作
</div>
</li>
<li class="feature-item">
<div class="feature-icon">
<i class="fas fa-download"></i>
</div>
<div class="feature-text">
一键下载MP3格式音频，可用于多平台分享
</div>
</li>
<li class="feature-item">
<div class="feature-icon">
<i class="fas fa-history"></i>
</div>
<div class="feature-text">
本地保存历史记录，方便重复使用和比较
</div>
</li>
</ul>
</div>
</section>
</div>
<footer>
<p>© 2025 <a href="https://other.azad.asia" target="_blank" style="text-decoration: none; color: inherit;">Azad的实验室</a>  | 基于 Pollinations.AI | <i class="fas fa-sparkles"></i><a href="https://home.azad.asia/dashang" target="_blank" style="text-decoration: none; color: inherit;">请站长喝咖啡</a>  </p>
</footer>
</div>
<script>
document.addEventListener('DOMContentLoaded', function() {
const textInput = document.getElementById('textInput');
const voiceSelect = document.getElementById('voiceSelect');
const generateBtn = document.getElementById('generateBtn');
const generateBtnText = document.getElementById('generateBtnText');
const generateBtnSpinner = document.getElementById('generateBtnSpinner');
const downloadBtn = document.getElementById('downloadBtn');
const audioContainer = document.getElementById('audioContainer');
const noAudioMessage = document.getElementById('noAudioMessage');
const downloadContainer = document.getElementById('downloadContainer');
const loadingIndicator = document.getElementById('loadingIndicator');
const statusMessage = document.getElementById('statusMessage');
const historyList = document.getElementById('historyList');
const charCount = document.getElementById('charCount');
const durationEstimate = document.getElementById('durationEstimate');
const clearHistoryBtn = document.getElementById('clearHistoryBtn');
const currentVoiceContainer = document.getElementById('currentVoiceContainer');
const currentVoiceIcon = document.getElementById('currentVoiceIcon');
const currentVoiceName = document.getElementById('currentVoiceName');
const currentVoiceDesc = document.getElementById('currentVoiceDesc');
const MAX_HISTORY_ITEMS = 10; // Limit history to 10 items
const CHARS_PER_MINUTE = 150; // Estimated speaking speed
const voiceDescriptions = {
    'alloy': '平衡中性',
    'echo': '深沉有力',
    'fable': '温暖讲述',
    'onyx': '威严庄重',
    'nova': '友好专业',
    'shimmer': '轻快明亮',
    'coral': '温柔平静',
    'verse': '生动诗意',
    'ballad': '抒情柔和',
    'ash': '思考沉稳',
    'sage': '智慧老练',
    'amuch': '饱满自然',
    'aster': '清晰直接',
    'brook': '流畅舒适',
    'clover': '活泼年轻',
    'dan': '男声稳重',
    'elan': '优雅流利',
    'marilyn': '柔美圆润',
    'meadow': '平和自然'
};
const voiceColors = {
    'alloy': '#4F46E5',
    'echo': '#6366F1',
    'fable': '#8B5CF6',
    'onyx': '#333333',
    'nova': '#10B981',
    'shimmer': '#60A5FA',
    'coral': '#F87171',
    'verse': '#FBBF24',
    'ballad': '#A78BFA',
    'ash': '#4B5563',
    'sage': '#059669',
    'amuch': '#F59E0B',
    'aster': '#2563EB',
    'brook': '#3B82F6',
    'clover': '#EC4899',
    'dan': '#1F2937',
    'elan': '#7C3AED',
    'marilyn': '#DB2777',
    'meadow': '#34D399'
};
let audioBlob = null;
let history = [];
// 同步单选按钮和下拉选择
const voiceStyleOptions = document.querySelectorAll('.voice-style-option input[type="radio"]');
voiceStyleOptions.forEach(option => {
    option.addEventListener('change', function() {
        if(this.checked) {
            voiceSelect.value = this.value;
        }
    });
});
// Load history from localStorage
loadHistory();
// Update character count and duration estimate as user types
textInput.addEventListener('input', updateTextStats);
function updateTextStats() {
    const text = textInput.value.trim();
    const count = text.length;
    // Update character count
    charCount.textContent = `字符数: ${count}`;
    // Calculate and update duration estimate
    const durationMinutes = count / CHARS_PER_MINUTE;
    let durationText;
    if (durationMinutes < 1/60) {
        durationText = '不到1秒';
    } else if (durationMinutes < 1) {
        const seconds = Math.round(durationMinutes * 60);
        durationText = `${seconds} 秒`;
    } else {
        const minutes = Math.floor(durationMinutes);
        const seconds = Math.round((durationMinutes - minutes) * 60);
        if (seconds === 0) {
            durationText = `${minutes} 分钟`;
        } else {
            durationText = `${minutes} 分钟 ${seconds} 秒`;
        }
    }
    durationEstimate.textContent = `估计时长: ${durationText}`;
}
// Function to update the current voice display
function updateCurrentVoiceDisplay(voice) {
    const voiceName = voice.charAt(0).toUpperCase() + voice.slice(1);
    const voiceDesc = voiceDescriptions[voice] || '';
    const voiceColor = voiceColors[voice] || '#4F46E5';
    currentVoiceName.textContent = voiceName;
    currentVoiceDesc.textContent = voiceDesc;
    currentVoiceIcon.style.backgroundColor = voiceColor;
    currentVoiceContainer.style.display = 'flex';
}
// Function to generate audio from text
async function generateAudio() {
    const text = textInput.value.trim();
    const selectedVoiceElement = document.querySelector('.voice-style-option input[type="radio"]:checked');
    const voice = selectedVoiceElement ? selectedVoiceElement.value : voiceSelect.value;
    if (!text) {
        showStatus('请输入文本内容', 'error');
        return;
    }
    // Show loading indicators
    loadingIndicator.style.display = 'flex';
    generateBtnText.textContent = "正在生成...";
    generateBtnSpinner.style.display = 'inline-block';
    generateBtn.disabled = true;
    // Hide any previous status message
    statusMessage.style.display = 'none';
    try {
        // Create the URL with the encoded text and selected voice
        const url = `https://text.pollinations.ai/${encodeURIComponent(text)}?model=openai-audio&voice=${voice}`;
        // Fetch the audio file
        const response = await fetch(url);
        if (!response.ok) {
            throw new Error(`Error: ${response.status} ${response.statusText}`);
        }
        // Get the audio blob
        audioBlob = await response.blob();
        // Create a URL for the blob
        const audioUrl = URL.createObjectURL(audioBlob);
        // Create audio element
        if (document.getElementById('audioElement')) {
            document.getElementById('audioElement').remove();
        }
        const audioElement = document.createElement('audio');
        audioElement.id = 'audioElement';
        audioElement.controls = true;
        audioElement.src = audioUrl;
        audioElement.className = 'custom-audio';
        // Create custom player container
        const customPlayerDiv = document.createElement('div');
        customPlayerDiv.className = 'custom-audio-player';
        customPlayerDiv.appendChild(audioElement);
        // Replace no audio message with audio element
        if (noAudioMessage) {
            noAudioMessage.style.display = 'none';
        }
        audioContainer.innerHTML = ''; // 清除预览容器
        audioContainer.appendChild(customPlayerDiv);
        // Show download button
        downloadContainer.style.display = 'block';
        // Update current voice display
        updateCurrentVoiceDisplay(voice);
        // Get preview text (first 20 characters)
        const previewText = text.substring(0, 20) + (text.length > 20 ? '...' : '');
        // Add to history
        const timestamp = new Date();
        const historyItem = {
            id: Date.now(),
            timestamp: timestamp,
            voice: voice,
            text: text,
            previewText: previewText,
            blob: audioBlob
        };
        // Add new item to the beginning and limit to 10 items
        history.unshift(historyItem);
        if (history.length > MAX_HISTORY_ITEMS) {
            history = history.slice(0, MAX_HISTORY_ITEMS);
        }
        saveHistory();
        updateHistoryUI(historyItem.id); // Pass the new item ID to highlight it
        showStatus('语音生成成功！', 'success');
        // Play the audio automatically
        audioElement.play();
    } catch (error) {
        console.error('Error generating audio:', error);
        showStatus(`生成语音时出错: ${error.message}`, 'error');
    } finally {
        // Hide loading indicators
        loadingIndicator.style.display = 'none';
        generateBtnText.textContent = "生成语音";
        generateBtnSpinner.style.display = 'none';
        generateBtn.disabled = false;
    }
}
// Function to download the generated audio
function downloadAudio(blob, filename) {
    if (!blob) {
        showStatus('没有可下载的音频', 'error');
        return;
    }
    const downloadUrl = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = downloadUrl;
    a.download = filename || `audio_${new Date().getTime()}.mp3`;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(downloadUrl);
}
// Function to download history item
function downloadHistoryItem(id) {
    const item = history.find(h => h.id === id);
    if (item) {
        const sanitizedText = item.previewText.replace(/[^\w\u4e00-\u9fa5]/g, '');
        const fileName = `${item.voice}_${sanitizedText}.mp3`;
        downloadAudio(item.blob, fileName);
    }
}
// Function to update the history UI
function updateHistoryUI(newItemId) {
    if (history.length === 0) {
        historyList.innerHTML = '<p class="no-history">暂无历史记录</p>';
        return;
    }
    historyList.innerHTML = '';
    // Display only the 10 most recent items
    history.forEach(item => {
        const historyItem = document.createElement('div');
        historyItem.className = 'history-item';
        if (item.id === newItemId) {
            historyItem.classList.add('new');
        }
        // Format timestamp
        const date = item.timestamp;
        const formattedDate = `${date.getFullYear()}-${(date.getMonth()+1).toString().padStart(2, '0')}-${date.getDate().toString().padStart(2, '0')} ${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}`;
        historyItem.innerHTML = `
            <div class="history-info">
                <div class="history-timestamp">${formattedDate}</div>
                <div class="history-voice">${item.voice}</div>
                <div class="history-text">${item.previewText}</div>
            </div>
            <button class="btn btn-text history-download" data-id="${item.id}">
                <i class="fas fa-download"></i> 下载
            </button>
        `;
        historyList.appendChild(historyItem);
    });
    // Add event listeners to download buttons
    document.querySelectorAll('.history-download').forEach(btn => {
        btn.addEventListener('click', () => {
            const id = parseInt(btn.getAttribute('data-id'), 10);
            downloadHistoryItem(id);
        });
    });
}
// Function to clear all history
function clearHistory() {
    if (confirm('确定要清空所有历史记录吗？这个操作不可撤销。')) {
        history = [];
        localStorage.removeItem('audioGeneratorHistory');
        updateHistoryUI();
        showStatus('历史记录已清空', 'success');
    }
}
// Function to save history to localStorage
function saveHistory() {
    // We can't store blobs in localStorage, so we'll store other info and keep blobs in memory
    const historyData = history.map(item => ({
        id: item.id,
        timestamp: item.timestamp.toISOString(),
        voice: item.voice,
        text: item.text,
        previewText: item.previewText
    }));
    try {
        localStorage.setItem('audioGeneratorHistory', JSON.stringify(historyData));
    } catch (e) {
        console.error('Error saving history to localStorage:', e);
    }
}
// Function to load history from localStorage
function loadHistory() {
    try {
        const historyData = localStorage.getItem('audioGeneratorHistory');
        if (historyData) {
            const parsedHistory = JSON.parse(historyData);
            history = parsedHistory.map(item => ({
                ...item,
                timestamp: new Date(item.timestamp),
                blob: null // We don't store blobs in localStorage
            }));
            // Limit to MAX_HISTORY_ITEMS
            if (history.length > MAX_HISTORY_ITEMS) {
                history = history.slice(0, MAX_HISTORY_ITEMS);
            }
            updateHistoryUI();
        }
    } catch (e) {
        console.error('Error loading history from localStorage:', e);
    }
}
// Function to show status messages
function showStatus(message, type) {
    statusMessage.textContent = message;
    statusMessage.className = `status ${type}`;
    statusMessage.style.display = 'block';
    // Hide status after 5 seconds
    setTimeout(() => {
        statusMessage.style.display = 'none';
    }, 5000);
}
// Event listeners
generateBtn.addEventListener('click', generateAudio);
downloadBtn.addEventListener('click', () => {
    if (audioBlob) {
        const text = textInput.value.trim();
        const selectedVoiceElement = document.querySelector('.voice-style-option input[type="radio"]:checked');
        const voice = selectedVoiceElement ? selectedVoiceElement.value : voiceSelect.value;
        const previewText = text.substring(0, 20).replace(/[^\w\u4e00-\u9fa5]/g, '');
        const fileName = `${voice}_${previewText}.mp3`;
        downloadAudio(audioBlob, fileName);
    }
});
// Add keyboard shortcut (Ctrl+Enter) to generate audio
textInput.addEventListener('keydown', function(e) {
    if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
        e.preventDefault();
        generateAudio();
    }
});
// Clear history button
clearHistoryBtn.addEventListener('click', clearHistory);
// Initialize text stats
updateTextStats();
});
</script></body>
</html>
